<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pozorište: Output customization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pozorište
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Output customization </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>If you want to add extra information to the reporter output, you can build your own display processor and add it to options in the customProcessors array.</p>
<h1><a class="anchor" id="autotoc_md14045"></a>
Example</h1>
<p>Let's say that you want to add the current time before each output of the reporter in order to have something like this: </p><pre class="fragment">Spec started

  10:40:12 - first suite
    10:40:12 - ✓ should be ok
    10:40:21 - ✗ should failed
      - Expected true to be false.
    10:40:35 - ✓ should be ok
</pre><h2><a class="anchor" id="autotoc_md14046"></a>
Build your display processor</h2>
<p>You need to require the display processor:</p>
<div class="fragment"><div class="line">var DisplayProcessor = require(&#39;jasmine-spec-reporter&#39;).DisplayProcessor;</div>
</div><!-- fragment --><p>You can then customize the following methods:</p><ul>
<li>displayJasmineStarted(runner, log)</li>
<li>displaySuite(suite, log)</li>
<li>displaySpecStarted(spec, log)</li>
<li>displaySuccessfulSpec(spec, log)</li>
<li>displayFailedSpec(spec, log)</li>
<li>displaySpecErrorMessages(spec, log)</li>
<li>displaySummaryErrorMessages(spec, log)</li>
<li>displayPendingSpec(spec, log)</li>
</ul>
<p>The first argument is the jasmine object corresponding to the suite or the spec. The second argument is the log to be displayed. Those methods should return the modified log.</p>
<p>For our example:</p>
<div class="fragment"><div class="line">var DisplayProcessor = require(&#39;jasmine-spec-reporter&#39;).DisplayProcessor;</div>
<div class="line"> </div>
<div class="line">function TimeProcessor(configuration) {</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">function getTime() {</div>
<div class="line">    var now = new Date();</div>
<div class="line">    return now.getHours() + &#39;:&#39; +</div>
<div class="line">           now.getMinutes() + &#39;:&#39; +</div>
<div class="line">           now.getSeconds()</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TimeProcessor.prototype = new DisplayProcessor();</div>
<div class="line"> </div>
<div class="line">TimeProcessor.prototype.displaySuite = function (suite, log) {</div>
<div class="line">  return getTime() + &#39; - &#39; + log;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">TimeProcessor.prototype.displaySuccessfulSpec = function (spec, log) {</div>
<div class="line">  return getTime() + &#39; - &#39; + log;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">TimeProcessor.prototype.displayFailedSpec = function (spec, log) {</div>
<div class="line">  return getTime() + &#39; - &#39; + log;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">TimeProcessor.prototype.displayPendingSpec = function (spec, log) {</div>
<div class="line">  return getTime() + &#39; - &#39; + log;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md14047"></a>
Add it to the configuration</h2>
<p>Then you need to configure jasmine spec reporter to use your processor:</p>
<div class="fragment"><div class="line">var SpecReporter = require(&#39;jasmine-spec-reporter&#39;).SpecReporter;</div>
<div class="line"> </div>
<div class="line">var reporter = new SpecReporter({</div>
<div class="line">    customProcessors: [TimeProcessor]</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">jasmine.getEnv().addReporter(reporter);</div>
</div><!-- fragment --><p>You must pass the processor constructor in the customProcessors array. Jasmine spec reporter will instantiate it with the options if you need them. You can add as many processors as you want, they will be applied in the order which they are in the customProcessors array. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
